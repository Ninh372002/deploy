{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { createVNode as _createVNode, createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex justify-end items-center p-4\"\n};\nimport { onMounted, ref } from 'vue';\nimport CommonTable from '@/components/CommonTable.vue';\nimport HeaderComp from \"@/components/HeaderComp.vue\";\nimport PopupComponent from '@/components/CreateModelPopupComp.vue';\nimport axios from \"axios\";\nimport CommonButton from \"@/components/CommonButton.vue\";\nexport default {\n  __name: 'TrainingPage',\n  setup(__props) {\n    const isPopupOpen = ref(false);\n    const columns = ref([{\n      key: 'model_name',\n      label: 'Model Name'\n    }, {\n      key: 'creation_time',\n      label: 'Creation Time'\n    }, {\n      key: 'action',\n      label: 'Action',\n      type: 'button',\n      buttonText: 'Delete'\n    }]);\n    const models = ref();\n    onMounted(() => {\n      getModeList();\n    });\n    const getModeList = async () => {\n      models.value = []; // Clear models before fetching\n      const url = 'http://localhost:8080/api/v1.0/models';\n      try {\n        const response = await axios.get(url, {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n\n        // Kiểm tra nếu response.data tồn tại và không rỗng\n        if (response.data && Array.isArray(response.data)) {\n          const modelList = response.data;\n          for (let i = 0; i < modelList.length; i++) {\n            models.value.push({\n              model_name: modelList[i],\n              creation_time: '2024-06-17 15:03:15'\n            });\n          }\n        } else {\n          console.error('Invalid response data structure');\n        }\n      } catch (error) {\n        console.error('Error fetching model list:', error);\n        alert('Error fetching model list. Please try again.');\n      }\n    };\n    const deleteModel = async ({\n      row\n    }) => {\n      const url = 'http://localhost:8080/api/v1.0/model';\n      try {\n        await axios.delete(url, {\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          params: {\n            modelName: row.model_name.trim()\n          }\n        });\n        alert('Successfully deleted model');\n        getModeList();\n      } catch (error) {\n        console.error(error);\n        alert(error.response.data.message);\n      }\n    };\n    const openPopup = () => {\n      isPopupOpen.value = true;\n    };\n    const closePopup = () => {\n      isPopupOpen.value = false;\n    };\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(HeaderComp, {\n        title: 'Training Page'\n      }), _createElementVNode(\"div\", _hoisted_1, [_createVNode(CommonButton, {\n        onClick: openPopup,\n        name: \"Add New Model\",\n        \"custom-classes\": 'py-4'\n      }), _createVNode(PopupComponent, {\n        isOpen: isPopupOpen.value,\n        onClose: closePopup\n      }, null, 8, [\"isOpen\"])]), _createVNode(CommonTable, {\n        columns: columns.value,\n        data: models.value,\n        onButtonClick: deleteModel\n      }, null, 8, [\"columns\", \"data\"])], 64);\n    };\n  }\n};","map":{"version":3,"names":["onMounted","ref","CommonTable","HeaderComp","PopupComponent","axios","CommonButton","isPopupOpen","columns","key","label","type","buttonText","models","getModeList","value","url","response","get","headers","data","Array","isArray","modelList","i","length","push","model_name","creation_time","console","error","alert","deleteModel","row","delete","params","modelName","trim","message","openPopup","closePopup"],"sources":["C:/Users/Ninh/Desktop/Doan/DATN-NTT2024/src/views/TrainingPage.vue"],"sourcesContent":["<template>\r\n  <HeaderComp :title=\"'Training Page'\"/>\r\n  <div class=\"flex justify-end items-center p-4\">\r\n    <CommonButton\r\n        @click=\"openPopup\"\r\n        name=\"Add New Model\"\r\n        :custom-classes=\"'py-4'\"\r\n    >\r\n    </CommonButton>\r\n    <PopupComponent :isOpen=\"isPopupOpen\" @close=\"closePopup\"/>\r\n  </div>\r\n  <CommonTable :columns=\"columns\" :data=\"models\" @button-click=\"deleteModel\"/>\r\n</template>\r\n\r\n<script setup>\r\nimport {onMounted, ref} from 'vue';\r\nimport CommonTable from '@/components/CommonTable.vue';\r\nimport HeaderComp from \"@/components/HeaderComp.vue\";\r\nimport PopupComponent from '@/components/CreateModelPopupComp.vue';\r\nimport axios from \"axios\";\r\nimport CommonButton from \"@/components/CommonButton.vue\";\r\n\r\nconst isPopupOpen = ref(false);\r\n\r\nconst columns = ref([\r\n  {key: 'model_name', label: 'Model Name'},\r\n  {key: 'creation_time', label: 'Creation Time'},\r\n  {key: 'action', label: 'Action', type: 'button', buttonText: 'Delete'}\r\n]);\r\n\r\nconst models = ref();\r\n\r\nonMounted(() => {\r\n  getModeList()\r\n});\r\n\r\nconst getModeList = async () => {\r\n  models.value = []; // Clear models before fetching\r\n  const url = 'http://localhost:8080/api/v1.0/models';\r\n\r\n  try {\r\n    const response = await axios.get(url, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    });\r\n\r\n    // Kiểm tra nếu response.data tồn tại và không rỗng\r\n    if (response.data && Array.isArray(response.data)) {\r\n      const modelList = response.data;\r\n      for (let i = 0; i < modelList.length; i++) {\r\n        models.value.push({ model_name: modelList[i], creation_time: '2024-06-17 15:03:15' });\r\n      }\r\n    } else {\r\n      console.error('Invalid response data structure');\r\n    }\r\n  } catch (error) {\r\n    console.error('Error fetching model list:', error);\r\n    alert('Error fetching model list. Please try again.');\r\n  }\r\n};\r\n\r\n\r\n\r\nconst deleteModel = async ({row}) => {\r\n  const url = 'http://localhost:8080/api/v1.0/model';\r\n\r\n  try {\r\n    await axios.delete(url, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      params: {\r\n        modelName: row.model_name.trim()\r\n      }\r\n    });\r\n    alert('Successfully deleted model');\r\n    getModeList();\r\n  } catch (error) {\r\n    console.error(error);\r\n    alert(error.response.data.message);\r\n  }\r\n};\r\n\r\nconst openPopup = () => {\r\n  isPopupOpen.value = true;\r\n};\r\n\r\nconst closePopup = () => {\r\n  isPopupOpen.value = false;\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"mappings":";;;;;AAeA,SAAQA,SAAS,EAAEC,GAAG,QAAO,KAAK;AAClC,OAAOC,WAAW,MAAM,8BAA8B;AACtD,OAAOC,UAAU,MAAM,6BAA6B;AACpD,OAAOC,cAAc,MAAM,uCAAuC;AAClE,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,YAAY,MAAM,+BAA+B;;;;IAExD,MAAMC,WAAW,GAAGN,GAAG,CAAC,KAAK,CAAC;IAE9B,MAAMO,OAAO,GAAGP,GAAG,CAAC,CAClB;MAACQ,GAAG,EAAE,YAAY;MAAEC,KAAK,EAAE;IAAY,CAAC,EACxC;MAACD,GAAG,EAAE,eAAe;MAAEC,KAAK,EAAE;IAAe,CAAC,EAC9C;MAACD,GAAG,EAAE,QAAQ;MAAEC,KAAK,EAAE,QAAQ;MAAEC,IAAI,EAAE,QAAQ;MAAEC,UAAU,EAAE;IAAQ,CAAC,CACvE,CAAC;IAEF,MAAMC,MAAM,GAAGZ,GAAG,CAAC,CAAC;IAEpBD,SAAS,CAAC,MAAM;MACdc,WAAW,CAAC,CAAC;IACf,CAAC,CAAC;IAEF,MAAMA,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9BD,MAAM,CAACE,KAAK,GAAG,EAAE,CAAC,CAAC;MACnB,MAAMC,GAAG,GAAG,uCAAuC;MAEnD,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMZ,KAAK,CAACa,GAAG,CAACF,GAAG,EAAE;UACpCG,OAAO,EAAE;YACP,cAAc,EAAE;UAClB;QACF,CAAC,CAAC;;QAEF;QACA,IAAIF,QAAQ,CAACG,IAAI,IAAIC,KAAK,CAACC,OAAO,CAACL,QAAQ,CAACG,IAAI,CAAC,EAAE;UACjD,MAAMG,SAAS,GAAGN,QAAQ,CAACG,IAAI;UAC/B,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,SAAS,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;YACzCX,MAAM,CAACE,KAAK,CAACW,IAAI,CAAC;cAAEC,UAAU,EAAEJ,SAAS,CAACC,CAAC,CAAC;cAAEI,aAAa,EAAE;YAAsB,CAAC,CAAC;UACvF;QACF,CAAC,MAAM;UACLC,OAAO,CAACC,KAAK,CAAC,iCAAiC,CAAC;QAClD;MACF,CAAC,CAAC,OAAOA,KAAK,EAAE;QACdD,OAAO,CAACC,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;QAClDC,KAAK,CAAC,8CAA8C,CAAC;MACvD;IACF,CAAC;IAID,MAAMC,WAAW,GAAG,MAAAA,CAAO;MAACC;IAAG,CAAC,KAAK;MACnC,MAAMjB,GAAG,GAAG,sCAAsC;MAElD,IAAI;QACF,MAAMX,KAAK,CAAC6B,MAAM,CAAClB,GAAG,EAAE;UACtBG,OAAO,EAAE;YACP,cAAc,EAAE;UAClB,CAAC;UACDgB,MAAM,EAAE;YACNC,SAAS,EAAEH,GAAG,CAACN,UAAU,CAACU,IAAI,CAAC;UACjC;QACF,CAAC,CAAC;QACFN,KAAK,CAAC,4BAA4B,CAAC;QACnCjB,WAAW,CAAC,CAAC;MACf,CAAC,CAAC,OAAOgB,KAAK,EAAE;QACdD,OAAO,CAACC,KAAK,CAACA,KAAK,CAAC;QACpBC,KAAK,CAACD,KAAK,CAACb,QAAQ,CAACG,IAAI,CAACkB,OAAO,CAAC;MACpC;IACF,CAAC;IAED,MAAMC,SAAS,GAAGA,CAAA,KAAM;MACtBhC,WAAW,CAACQ,KAAK,GAAG,IAAI;IAC1B,CAAC;IAED,MAAMyB,UAAU,GAAGA,CAAA,KAAM;MACvBjC,WAAW,CAACQ,KAAK,GAAG,KAAK;IAC3B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}